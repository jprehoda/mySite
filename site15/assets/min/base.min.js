'use strict';var setContactHeight=function(){if(window.innerHeight<768){document.getElementById('contact-form-wrapper').style.height=window.innerHeight+'px'}}
setContactHeight();var getValues=function(key,returnedData){return decodeURI((RegExp(key+'='+'(.+?)(&|$)').exec(returnedData)||[,null])[1])}
var joesApp=angular.module('joesApp',[]);joesApp.service('anchorSmoothScroll',function(){this.scrollTo=function(eID){var startY=currentYPosition();var stopY=elmYPosition(eID);var distance=stopY>startY?stopY-startY:startY-stopY;if(distance<100){scrollTo(0,stopY);return}
var speed=Math.round(distance/100);if(speed>=20)speed=20;var step=Math.round(distance/25);var leapY=stopY>startY?startY+step:startY-step;var timer=0;if(stopY>startY){for(var i=startY;i<stopY;i+=step){setTimeout("window.scrollTo(0, "+leapY+")",timer*speed);leapY+=step;if(leapY>stopY)leapY=stopY;timer++}return}
for(var i=startY;i>stopY;i-=step){setTimeout("window.scrollTo(0, "+leapY+")",timer*speed);leapY-=step;if(leapY<stopY)leapY=stopY;timer++}
function currentYPosition(){if(self.pageYOffset)return self.pageYOffset;if(document.documentElement&&document.documentElement.scrollTop)
return document.documentElement.scrollTop;if(document.body.scrollTop)return document.body.scrollTop;return 0}
function elmYPosition(eID){var elm=document.getElementById(eID);var y=elm.offsetTop-document.getElementById('scroll-nav').offsetHeight;var node=elm;while(node.offsetParent&&node.offsetParent!=document.body){node=node.offsetParent;y+=node.offsetTop}return y}}}).controller('bodyCtrl',function($scope,$interval,$location,anchorSmoothScroll){$scope.switchLayout=!1;$scope.isCircleHovered=!1;$scope.isNavOpen=!1;$scope.isScrolled=!1;$scope.showContact=(getValues('formSubmit',window.location)==='true')?!0:!1;$scope.showreCaptchaError=!1;$scope.setNavItemActive=!1;$scope.checkNav=function($event){if($scope.isNavOpen&&($event.target.className.indexOf('no-nav-check')<0)){$scope.operateNav($event)}};$scope.showContactForm=function($event){$event.preventDefault();$scope.showContact=!$scope.showContact};$interval(function(){$scope.switchLayout=!$scope.switchLayout},30000);$scope.navHeightOffset=function(){return(window.innerHeight-document.getElementById('scroll-nav').offsetHeight)+'px'};window.onresize=function(){$scope.navHeightOffset();$scope.$apply();setContactHeight()};$scope.operateNav=function($event){$event.preventDefault();$scope.isNavOpen=!$scope.isNavOpen;if($scope.isNavOpen&&!$scope.isScrolled){$scope.isScrolled=!0}};$scope.gotoElement=function(eID,$event){$event.preventDefault();anchorSmoothScroll.scrollTo(eID)};$scope.contactSubmit=function($event){$event.preventDefault();$scope.formIsValid=!0;if((grecaptcha.getResponse()).length<=0){$scope.showreCaptchaError=!0;$scope.formIsValid=!1;return!1}
if($scope.formIsValid){document.getElementById("contact-joe-prehoda").submit()}}}).directive("scroll",function($window){return function(scope,element,attrs){angular.element($window).bind("scroll",function(){if(this.pageYOffset>=1){scope.isScrolled=!0}else{scope.isScrolled=!1}
scope.$apply()})}})